# ğŸ¨ å‰ç«¯ UI æ¶æ„ï¼ˆWireframes & Specï¼‰

> æŠ€æœ¯æ ˆï¼š**Next.js + TypeScript**ï¼Œæ ·å¼å»ºè®® **Tailwind**ï¼ˆæˆ– shadcn/ui ç»„ä»¶åº“ + lucide-react å›¾æ ‡ï¼‰ã€‚  
> å¸ƒå±€åŸºå‡†å®½åº¦ï¼š1440Ã—900ï¼ˆæ¡Œé¢ç«¯ï¼‰ã€‚  
> ç›®æ ‡æ¨¡å—ï¼š**Dashboard / CRM / Integrations / Workflow / Reports / Settings**ã€‚

---

## 0) è®¾è®¡ç›®æ ‡ä¸åŸåˆ™

- **ä¸‰æ å¿ƒæ™ºæ¨¡å‹ï¼ˆä»… CRMï¼‰**ï¼šå·¦ï¼ˆCustomer Inboxï¼‰â†’ ä¸­ï¼ˆConversationsï¼‰â†’ å³ï¼ˆCustomer Detailsï¼‰ã€‚  
- **å•ä¸€å…¥å£**ï¼šä¸€åˆ‡æ•°æ®ç» Backend APIï¼Œå‰ç«¯ä¸ç›´è¿å¤–éƒ¨æœåŠ¡ã€‚  
- **ä½æƒŠæ‰°**ï¼šåŠ è½½ Skeletonã€ç©ºçŠ¶æ€å‹å¥½ã€é”™è¯¯æ˜ç¡®å¯æ¢å¤ã€‚  
- **å¯æ‰©å±•**ï¼šä¿ç•™å¤šæ¸ é“ã€å¤šè´¦å·ã€ä»»åŠ¡ä¸è‡ªåŠ¨åŒ–å…¥å£ã€‚

---

## 1) å…¨å±€æ¡†æ¶

### 1.1 é¡¶éƒ¨å·¥å…·æ ï¼ˆGlobal Topbarï¼‰
- **å…ƒç´ **ï¼š  
  - å·¦ï¼šApp Logoï¼ˆç‚¹å‡»å› Dashboardï¼‰  
  - ä¸­ï¼šå…¨å±€æœç´¢æ¡†ï¼ˆæ”¯æŒå®¢æˆ·å/ç”µè¯/æ ‡ç­¾/æ¶ˆæ¯å†…å®¹ï¼‰  
  - å³ï¼šé€šçŸ¥é“ƒé“›ï¼ˆä»»åŠ¡/å¤±è´¥é‡è¯•/ç½‘å…³çŠ¶æ€ï¼‰ã€ç”¨æˆ·å¤´åƒèœå•ï¼ˆProfileã€Settingsã€Logoutï¼‰
- **çŠ¶æ€**ï¼š  
  - æœç´¢æ¡† Debounceï¼ˆ300msï¼‰ï¼›  
  - é€šçŸ¥ä¸‹æ‹‰å«â€œæŒ‰ç±»å‹ç­›é€‰â€ï¼ˆä»»åŠ¡/å¤±è´¥/ç³»ç»Ÿï¼‰ã€‚
- **å¿«æ·é”®**ï¼š  
  - `/` èšç„¦æœç´¢ï¼›  
  - `g d` â†’ Dashboardï¼›`g c` â†’ CRMï¼›`g i` â†’ Integrationsï¼›`g w` â†’ Workflowã€‚

### 1.2 å·¦ä¾§ä¸»å¯¼èˆªï¼ˆGlobal Sidebarï¼‰
- **é¡ºåº**ï¼šDashboard / **CRM** / Integrations / Workflow / Reports / Settings  
- **æŒ‡ç¤º**ï¼šå½“å‰é¡µé«˜äº®ï¼›æ”¯æŒæŠ˜å ï¼ˆå®½ 80pxï¼‰/å±•å¼€ï¼ˆå®½ 200pxï¼‰ã€‚  
- **WhatsApp çŠ¶æ€ç‚¹**ï¼šåœ¨ Integrations å›¾æ ‡å³ä¸Šè§’æ˜¾ç¤ºç»¿è‰²ï¼ˆå·²è¿æ¥ï¼‰ã€é»„è‰²ï¼ˆéœ€æ‰«ç ï¼‰ã€çº¢è‰²ï¼ˆæ–­å¼€ï¼‰ã€‚

---

## 2) CRM æ¨¡å—ï¼ˆä¸‰æ å¸ƒå±€ï¼‰

> è·¯ç”±ï¼š`/crm`  
> æ …æ ¼ï¼šå·¦ 320px / ä¸­è‡ªé€‚åº” / å³ 360pxï¼ˆå³æ ä»…åœ¨ CRM å‡ºç°ï¼‰ã€‚

### 2.1 å·¦æ ï¼šCustomer Inboxï¼ˆè”ç³»äºº/ä¼šè¯åˆ—è¡¨ï¼‰
- **åŒºåŸŸç»“æ„**ï¼š  
  1) é¡¶éƒ¨å·¥å…·æ¡ï¼ˆ48px é«˜ï¼‰ï¼š  
     - æœç´¢è¾“å…¥ï¼ˆå æ»¡å®½åº¦ï¼Œplaceholder: â€œæœç´¢å§“å/ç”µè¯/æ ‡ç­¾/æ¶ˆæ¯â€ï¼‰  
     - å³ä¾§ï¼šç­›é€‰æŒ‰é’®ï¼ˆpopoverï¼‰  
  2) Tabsï¼š  
     - **All / My / Tagged**  
  3) è¿‡æ»¤å™¨ï¼ˆFilters & Tagsï¼‰ï¼š  
     - çŠ¶æ€ï¼ˆCollecting Info / Follow Up / Viewing / Closed â€¦ï¼‰  
     - é¢„ç®—åŒºé—´ï¼ˆsliderï¼‰  
     - åœ°åŒºï¼ˆå¤šé€‰ï¼‰  
     - æ ‡ç­¾ï¼ˆå¤šé€‰ï¼Œå¦‚ â€œé«˜é¢„ç®—â€â€œå·²çœ‹æˆ¿â€â€œæ€¥ç§Ÿâ€ï¼‰
  4) åˆ—è¡¨é¡¹ï¼ˆè™šæ‹Ÿæ»šåŠ¨ï¼‰ï¼š
     - å¤´åƒ/é¦–å­—æ¯ã€å§“åã€ç”µè¯  
     - æœ€åä¸€æ¡æ¶ˆæ¯ + æ—¶é—´ï¼ˆç›¸å¯¹æ—¶é—´ï¼‰  
     - çŠ¶æ€å½©è‰²ç‚¹ã€æ ‡ç­¾å°èƒ¶å›Š
- **æ‰¹é‡æ“ä½œ**ï¼ˆå¯é€‰å¼€å…³ï¼‰ï¼š  
  - å¤šé€‰åé¡¶éƒ¨æµ®å±‚ï¼šå‘é€æ¨¡æ¿ / æ·»åŠ æ ‡ç­¾ / æ›´æ”¹çŠ¶æ€
- **ç©ºçŠ¶æ€**ï¼š  
  - â€œæš‚æ— å®¢æˆ·ï¼Œè¯·åœ¨ Integrations â†’ Google Sheets å¯¼å…¥æˆ–åŒæ­¥ã€‚â€

**äº¤äº’è¦ç‚¹**ï¼šæœç´¢/ç­›é€‰è”åŠ¨ï¼›åˆ‡æ¢å®¢æˆ· â†’ ä¸­/å³æ éšä¹‹åˆ·æ–°ã€‚

---

### 2.2 ä¸­æ ï¼šConversationsï¼ˆèŠå¤©ä¼šè¯ï¼‰
- **é¡¶éƒ¨æ ‡é¢˜æ **ï¼š  
  - å·¦ï¼šå®¢æˆ·åï¼ˆå‰¯æ ‡é¢˜ï¼šæ¸ é“/ç”µè¯ï¼‰  
  - ä¸­ï¼šæ¸ é“ Tabï¼ˆWhatsApp / Email / SMSï¼ŒMVP ä»… WhatsAppï¼‰  
  - å³ï¼šæ“ä½œæŒ‰é’®  
    - ç½®é¡¶/æ ‡æ˜Ÿï¼ˆä¼šè¯çº§ï¼‰  
    - å¯¼å‡ºèŠå¤©ï¼ˆ.txt / .csvï¼‰  
    - æ›´å¤šï¼ˆâ€¦ï¼‰ï¼šæ‹‰é»‘/å½’æ¡£ï¼ˆåç»­ï¼‰
- **æ¶ˆæ¯åŒºï¼ˆè™šæ‹Ÿåˆ—è¡¨ï¼‰**ï¼š  
  - **æ¶ˆæ¯ç±»å‹**ï¼šæ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ã€æ–‡ä»¶ã€ç³»ç»Ÿæ¶ˆæ¯ï¼ˆçŠ¶æ€å˜æ›´ï¼‰ã€‚  
  - **æ°”æ³¡æ ·å¼**ï¼š  
    - å…¥ç«™ï¼ˆå®¢æˆ·ï¼‰å·¦ä¾§ã€å‡ºç«™ï¼ˆAgent/ç³»ç»Ÿï¼‰å³ä¾§ï¼›  
    - æ˜¾ç¤ºæ—¶é—´æˆ³ã€å·²é€è¾¾/å·²è¯»ï¼ˆâœ“/âœ“âœ“ï¼‰ã€‚  
  - **åª’ä½“**ï¼šç‚¹å‡»å›¾ç‰‡æ‰“å¼€ Lightboxï¼›æ–‡ä»¶æ˜¾ç¤ºæ–‡ä»¶å+å¤§å°ï¼Œç‚¹å‡»ä¸‹è½½ã€‚
  - **ç³»ç»Ÿæ¶ˆæ¯**ï¼ˆæµ…ç°å±…ä¸­æ¡ï¼‰ï¼šå¦‚ â€œStatus ä» â€˜Collecting Infoâ€™ â†’ â€˜Viewingâ€™â€ã€‚
- **åº•éƒ¨è¾“å…¥åŒºï¼ˆComposerï¼‰**ï¼š  
  - æ–‡æœ¬æ¡†ï¼ˆå¤šè¡Œè‡ªåŠ¨å¢é«˜ï¼Œæœ€å¤§ 6 è¡Œï¼‰  
  - æŒ‰é’®ï¼š**å‘é€**ã€é™„ä»¶ï¼ˆä¸Šä¼ åˆ° Drive/Storageï¼‰ã€æ¨¡æ¿ã€AI åˆ‡æ¢  
  - å˜é‡æ’å…¥å™¨ï¼ˆM2ï¼‰ï¼šç‚¹å‡»æ’å…¥ `{Name}` `{Budget}` `{Status}`  
  - å¿«æ·é”®ï¼š`Cmd/Ctrl + Enter` å‘é€ï¼›`Esc` å¤±ç„¦ã€‚

**é”™è¯¯/ä¿æŠ¤**ï¼š  
- å¤œé—´å‘é€ä¿æŠ¤ï¼ˆ22:00â€“09:00ï¼‰â†’ äºŒæ¬¡ç¡®è®¤æˆ–æ’ç¨‹ï¼ˆTimeTriggerï¼‰ã€‚  
- AI è¶…æ—¶ >10s â†’ è‡ªåŠ¨å›é€€åˆ°æ¨¡æ¿ï¼›å¤±è´¥å¼¹ Toastã€‚

---

### 2.3 å³æ ï¼šCustomer Detailsï¼ˆå®¢æˆ·è¯¦æƒ…ï¼‰
**Tab ç»“æ„**ï¼š  
1) **Info**ï¼šName / Phone / Budget / Status / è‡ªå®šä¹‰å­—æ®µ  
2) **Notes**ï¼šç¬”è®°æ—¶é—´çº¿ï¼Œå¢åˆ æ”¹  
3) **Tasks**ï¼šå¾…åŠåˆ—è¡¨ï¼Œæ–°å»º/å®Œæˆä»»åŠ¡  
4) **Payments**ï¼šæŠ¼é‡‘/ç§Ÿé‡‘è®°å½•ï¼ˆé¢„ç•™ï¼‰  
5) **Timeline**ï¼šå…³é”®äº‹ä»¶æµï¼ˆåˆ›å»ºã€çŠ¶æ€æ›´æ–°ã€è‡ªåŠ¨åŒ–è§¦å‘ï¼‰  
6) **Custom Fields**ï¼šGoogle Sheets æ‰©å±•åˆ—

**æ“ä½œ**ï¼š  
- ä¿®æ”¹ Status â†’ å†™å› Sheetï¼ˆM2ï¼‰ï¼›  
- Notes/Tasks â†’ DB ä¿å­˜ï¼›  
- å³ä¸Šè§’ï¼š**æŸ¥çœ‹ Sheet è¡Œ**ï¼ˆè·³ Google Sheetsï¼‰ã€‚

---

## 3) Integrationsï¼ˆå¤–éƒ¨é›†æˆï¼‰

> è·¯ç”±ï¼š`/integrations`

### 3.1 WhatsApp
- çŠ¶æ€ï¼šReady / Need QR / Reauth Required  
- æŒ‰é’®ï¼šæ˜¾ç¤ºäºŒç»´ç ã€é‡æ–°ç™»å½•  
- æœ€ååœ¨çº¿ï¼šæ—¶é—´æˆ³

### 3.2 Google Sheets
- ç™»å½• Googleï¼ˆOAuthï¼‰  
- é€‰æ‹© Sheet + Worksheet  
- å­—æ®µæ˜ å°„è¡¨ï¼ˆSheet åˆ— â†” CRM å­—æ®µï¼‰  
- æŒ‰é’®ï¼šæµ‹è¯•è¯»å–ã€å¯ç”¨å†™å› Status

### 3.3 LLMï¼ˆOpenAI/DeepSeekï¼‰
- API Key è¾“å…¥ï¼ˆéšè—æ˜¾ç¤ºï¼‰  
- æµ‹è¯• Promptï¼ˆå°çª—ï¼‰  
- è¶…æ—¶è®¾ç½®ï¼ˆé»˜è®¤ 10sï¼‰

---

## 4) Workflowï¼ˆå¯è§†åŒ–å·¥ä½œæµï¼‰

> è·¯ç”±ï¼š`/workflow`

- **å·¦ä¾§**ï¼šèŠ‚ç‚¹åº“  
  - Triggersï¼šSheetTrigger / NewMessageTrigger / TimeTrigger  
  - Actionsï¼šSendWhatsAppMessage / UpdateSheet / CreateTaskï¼ˆM3ï¼‰  
- **ä¸­é—´**ï¼šReact Flow ç”»å¸ƒ  
- **å³ä¾§**ï¼šNode Inspectorï¼ˆå‚æ•°è¡¨å•ï¼‰  
- **é¡¶éƒ¨**ï¼šåŠ è½½/ä¿å­˜ JSONã€è¿è¡Œæµ‹è¯•ï¼ˆDry-runï¼‰

---

## 5) Dashboard / Reports / Settings

### 5.1 Dashboard
- ä»Šæ—¥æ”¶/å‘æ¶ˆæ¯æ•°ã€è¿›è¡Œä¸­ä»»åŠ¡ã€çŠ¶æ€åˆ†å¸ƒ  
- å›¾è¡¨ï¼šæ—¥/å‘¨åˆ‡æ¢

### 5.2 Reports
- å†å²è¶‹åŠ¿ï¼šæ¶ˆæ¯é‡ã€è½¬åŒ–æ¼æ–—  
- å¯¼å‡º CSV

### 5.3 Settings
- ç”¨æˆ·ä¸è§’è‰²ï¼ˆAdmin/Agent/Viewerï¼‰  
- æ¨¡æ¿åº“ï¼ˆå˜é‡æ”¯æŒï¼‰  
- æ ‡ç­¾ä¸åˆ†ç»„  
- æ¸ é“å¼€å…³ï¼ˆEmail/SMS é¢„ç•™ï¼‰

---

## 6) æ ·å¼ä¸ç»„ä»¶

- **æ’ç‰ˆ**ï¼š`text-base` æ­£æ–‡ï¼›æ ‡é¢˜ `text-xl/2xl`ï¼›è¾…åŠ© `text-sm`  
- **é—´è·**ï¼š8px åŸºå‡†  
- **åœ†è§’**ï¼š`rounded-2xl`  
- **é˜´å½±**ï¼š`shadow-md` åŸºæœ¬ï¼›`shadow-lg` æ‚¬æµ®  
- **é¢œè‰²**ï¼šè“=ä¸»è‰²ï¼Œç»¿=æˆåŠŸï¼Œé»„=è­¦å‘Šï¼Œçº¢=é”™è¯¯  
- **çŠ¶æ€ç‚¹**ï¼šç°=Newï¼Œè“=Follow Upï¼Œç´«=Viewingï¼Œç»¿=Closed  
- **Skeleton**ï¼šåˆ—è¡¨éª¨æ¶ã€æ°”æ³¡éª¨æ¶ã€å³æ å­—æ®µéª¨æ¶  
- **ç©ºçŠ¶æ€**ï¼šæ’ç”» + å¼•å¯¼æŒ‰é’®

---



## 7) å‰ç«¯ç›®å½•ç»“æ„ï¼ˆå»ºè®®ï¼‰

```text
frontend/
â”œâ”€ app/
â”‚  â”œâ”€ layout.tsx
â”‚  â”œâ”€ page.tsx
â”‚  â”œâ”€ dashboard/page.tsx
â”‚  â”œâ”€ crm/page.tsx
â”‚  â”œâ”€ integrations/page.tsx
â”‚  â”œâ”€ workflow/page.tsx
â”‚  â”œâ”€ reports/page.tsx
â”‚  â””â”€ settings/page.tsx
â”œâ”€ components/
â”‚  â”œâ”€ crm/
â”‚  â”‚  â”œâ”€ Inbox.tsx
â”‚  â”‚  â”œâ”€ Conversation.tsx
â”‚  â”‚  â”œâ”€ Composer.tsx
â”‚  â”‚  â”œâ”€ DetailsPanel.tsx
â”‚  â”‚  â””â”€ MessageBubble.tsx
â”‚  â”œâ”€ common/
â”‚  â”‚  â”œâ”€ Topbar.tsx
â”‚  â”‚  â”œâ”€ Sidebar.tsx
â”‚  â”‚  â”œâ”€ SearchInput.tsx
â”‚  â”‚  â””â”€ Tag.tsx
â”‚  â””â”€ workflow/
â”‚     â”œâ”€ FlowCanvas.tsx
â”‚     â””â”€ NodeInspector.tsx
â”œâ”€ lib/
â”‚  â”œâ”€ api.ts
â”‚  â”œâ”€ format.ts
â”‚  â”œâ”€ validators.ts
â”‚  â””â”€ store.ts
â””â”€ styles/globals.css
````

---

## 8) éªŒæ”¶æ¸…å•ï¼ˆQA Checklistï¼‰

* [ ] åˆ‡æ¢å®¢æˆ· <150ms æ›´æ–°ä¸­/å³æ 
* [ ] æ¶ˆæ¯å‘é€æˆåŠŸï¼šæ°”æ³¡æ˜¾ç¤ºã€âœ“/âœ“âœ“ æ›´æ–°
* [ ] WhatsApp æœªè¿æ¥ï¼šComposer ç¦ç”¨ + å¼•å¯¼
* [ ] æ¨¡æ¿å˜é‡å¯æ­£ç¡®æ›¿æ¢
* [ ] é™„ä»¶ä¸Šä¼ è¿”å› `media_url` å¯é¢„è§ˆ
* [ ] ä¿®æ”¹ Status å†™å› Sheet
* [ ] æœç´¢/ç­›é€‰/æ ‡ç­¾ç”Ÿæ•ˆ
* [ ] Workflow èŠ‚ç‚¹å¯æ–°å¢/ä¿å­˜/æ‰§è¡Œ Dry-run
* [ ] é”™è¯¯/ç©ºçŠ¶æ€æ¸…æ™°å¯æ¢å¤
* [ ] å¿«æ·é”®æ­£å¸¸ï¼›å±å¹•é˜…è¯»å™¨è¯»å¾—é€š

